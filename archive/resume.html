<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Cloud familial privé multi-maison</title>
<style>
    body { font-family: Arial, sans-serif; line-height: 1.6; margin: 20px; background-color: #f9f9f9; color: #333; }
    h1, h2, h3 { color: #2c3e50; }
    pre { background-color: #eee; padding: 10px; border-radius: 5px; overflow-x: auto; }
    table { border-collapse: collapse; margin-bottom: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; }
    th { background-color: #ddd; }
    hr { border: 0; border-top: 1px solid #ccc; margin: 20px 0; }
</style>
</head>
<body>

<h1>Cloud familial privé multi-maison - Résumé complet</h1>

<h2>1️⃣ Concept général</h2>
<p><strong>Objectif :</strong></p>
<ul>
<li>Partager fichiers, vidéos, photos et documents entre plusieurs maisons</li>
<li>Conserver des dossiers privés vraiment privés</li>
<li>Répliquer les fichiers importants pour la redondance</li>
<li>Accéder aux fichiers depuis Android, iPhone, Mac, Windows, Linux, TV</li>
<li>Diffuser des médias comme un mini-CDN</li>
<li>Maintenance facile via Docker</li>
</ul>
<p><strong>Topologie :</strong></p>
<ul>
<li>Chaque personne a son <strong>instance serveur</strong> (Docker recommandé) :
    <ul>
        <li>P = Parents</li>
        <li>M = Vous</li>
        <li>B = Frère</li>
        <li>S = Belle-famille</li>
    </ul>
</li>
<li>Méga-réseau 1 : P ↔ M ↔ B (partage famille centrale)</li>
<li>Méga-réseau 2 : P ↔ S (partage avec belle-famille)</li>
<li>Dossiers privés : répliqués seulement avec chiffrement si nécessaire</li>
</ul>

<hr>

<h2>2️⃣ Stack technologique</h2>
<table>
<tr><th>Composant</th><th>Utilité</th><th>Remarques</th></tr>
<tr><td>Syncthing</td><td>Réplication peer-to-peer des fichiers</td><td>Chiffrement bout-en-bout, accès basé sur dossiers, multi-plateforme</td></tr>
<tr><td>Nextcloud</td><td>Interface cloud conviviale</td><td>Web, mobile ; accès fichiers, partage, aperçu médias</td></tr>
<tr><td>Jellyfin</td><td>Serveur médias (optionnel)</td><td>Streaming vidéos/musique vers TV et appareils, lit dossiers répliqués</td></tr>
<tr><td>Docker</td><td>Déploiement conteneurisé</td><td>Installation et mise à jour simplifiées, isolation des services</td></tr>
<tr><td>Samba / SMB</td><td>Accès type NAS en LAN</td><td>Smart TVs ou appareils locaux, rapide, optionnel</td></tr>
<tr><td>TLS / HTTPS</td><td>Sécurisation des accès</td><td>Utilisé par Nextcloud et WebDAV, chiffrement en transit</td></tr>
<tr><td>Collabora / OnlyOffice (optionnel)</td><td>Édition de documents dans le navigateur</td><td>Collaboration temps réel</td></tr>
<tr><td>Nextcloud Flow / Tasks / Calendar (optionnel)</td><td>Automatisation & productivité familiale</td><td>Rappels, workflows, tâches partagées</td></tr>
</table>

<hr>

<h2>3️⃣ Matériel recommandé par maison</h2>
<table>
<tr><th>Équipement</th><th>Utilité</th><th>Remarques</th></tr>
<tr><td>Petit serveur / NAS</td><td>Hôte principal</td><td>Raspberry Pi 4, Intel NUC ou mini-serveur suffisent</td></tr>
<tr><td>SSD/HDD</td><td>Stockage</td><td>1 à 4 To selon volume de vidéos/photos</td></tr>
<tr><td>Routeur / Internet</td><td>Accès WAN</td><td>Nécessaire pour accès distant ou VPN</td></tr>
<tr><td>UPS optionnel</td><td>Sécurité électrique</td><td>Prévenir la corruption lors de coupure</td></tr>
<tr><td>Appareils clients</td><td>Android/iPhone, PC/Mac/Linux, TV</td><td>Pour accéder aux fichiers</td></tr>
<tr><td>Boîtier NAS optionnel</td><td>Stockage supplémentaire</td><td>Pour backups privés via Syncthing</td></tr>
</table>
<p>&gt; Docker permet de simplifier le déploiement et la maintenance.</p>

<hr>

<h2>4️⃣ Protocoles d'accès aux fichiers</h2>
<table>
<tr><th>Device / Usage</th><th>Méthode d'accès</th></tr>
<tr><td>Android / iPhone</td><td>Application Nextcloud (upload et navigation)</td></tr>
<tr><td>Mac / Windows / Linux</td><td>Client Nextcloud Desktop (synchronisation)</td></tr>
<tr><td>TV</td><td>SMB/Samba ou application Jellyfin</td></tr>
<tr><td>Navigateur Web</td><td>Nextcloud Web UI (HTTPS)</td></tr>
<tr><td>Dossiers privés / chiffrés</td><td>Syncthing (appareils de confiance uniquement)</td></tr>
</table>
<p>&gt; Syncthing réplique les données mais ne sert pas directement les fichiers aux utilisateurs.</p>

<hr>

<h2>5️⃣ Modèle de dossiers et partage</h2>
<table>
<tr><th>Dossier</th><th>Partagé avec</th><th>Remarques</th></tr>
<tr><td>core_family/</td><td>P ↔ M ↔ B</td><td>Fichiers familiaux principaux, photos, vidéos</td></tr>
<tr><td>parents_stepfamily/</td><td>P ↔ S</td><td>Partage belle-famille</td></tr>
<tr><td>private_local/</td><td>M uniquement</td><td>Fichiers personnels locaux</td></tr>
<tr><td>private_encrypted/</td><td>M ↔ P</td><td>Backup privé ; chiffré, illisible par P</td></tr>
</table>
<ul>
<li>Déplacer un fichier de privé → famille déclenche le partage automatique</li>
<li>Dossiers privés restent invisibles et illisibles pour les autres</li>
</ul>

<hr>

<h2>6️⃣ Fonctionnalités clés et avantages</h2>
<table>
<tr><th>Fonctionnalité</th><th>Utilité</th></tr>
<tr><td>Multi-maison</td><td>Redondance, accès hors ligne dans plusieurs lieux</td></tr>
<tr><td>Support multi-plateforme</td><td>Android, iPhone, Windows, Mac, Linux</td></tr>
<tr><td>Dossiers privés chiffrés</td><td>Sécurité totale des données personnelles</td></tr>
<tr><td>Dossiers familiaux</td><td>Partage facile avec contrôle d'accès</td></tr>
<tr><td>Streaming média</td><td>Vidéos, musiques, photos sur TV et appareils mobiles</td></tr>
<tr><td>Upload automatique mobile</td><td>Sauvegarde automatique des photos et vidéos</td></tr>
<tr><td>Interface Web et apps</td><td>Facile pour tous les membres, même non-techniques</td></tr>
<tr><td>Versionnage & corbeille</td><td>Récupération de fichiers supprimés ou modifiés par erreur</td></tr>
<tr><td>Édition collaborative (optionnelle)</td><td>Documents partagés en temps réel</td></tr>
<tr><td>Déploiement Docker</td><td>Mise à jour facile, isolation des services</td></tr>
</table>

<hr>

<h2>7️⃣ Limitations / Inconvénients</h2>
<table>
<tr><th>Limitation</th><th>Notes / Solutions</th></tr>
<tr><td>Pas de CDN global</td><td>Sélection manuelle du serveur le plus proche</td></tr>
<tr><td>Fichiers privés chiffrés</td><td>Ne peuvent pas être diffusés ou partagés à distance</td></tr>
<tr><td>Protocoles anciens (TFTP, etc.)</td><td>Non supportés, utiliser SMB/HTTPS/WebDAV</td></tr>
<tr><td>Résolution de conflits</td><td>Syncthing crée des copies de conflit en cas d’édition simultanée</td></tr>
<tr><td>Mise en place initiale</td><td>Docker, SSL, appariement Syncthing peuvent nécessiter une configuration technique</td></tr>
<tr><td>Bande passante</td><td>Upload de vidéos volumineuses peut saturer Internet, mitigé par LAN/Wi-Fi</td></tr>
</table>

<hr>

<h2>8️⃣ Explication aux différents publics</h2>
<table>
<tr><th>Public</th><th>Message clé / Analogie</th></tr>
<tr><td>Parents non-techniques</td><td>« C’est comme Google Drive pour la famille. Photos, vidéos et documents sont automatiquement partagés avec les bonnes personnes. »</td></tr>
<tr><td>Belle-famille</td><td>« Vous avez accès uniquement à certains dossiers. Rien d’autre n’est visible. »</td></tr>
<tr><td>Frère / technophile</td><td>« Syncthing réplique les fichiers, Nextcloud fournit l’interface. Les dossiers privés restent chiffrés. »</td></tr>
<tr><td>Utilisateur TV / média</td><td>« Vous pouvez regarder vidéos ou photos sur la TV via serveur média ou partage réseau, comme un NAS. »</td></tr>
</table>

<hr>

<h2>9️⃣ Flux d’utilisation quotidien (exemple)</h2>
<ol>
<li>Photos sur Android → upload automatique vers private_local/ ou core_family/</li>
<li>Déplacement dans dossier partagé → Syncthing réplique vers P & B</li>
<li>Streaming média → Jellyfin lit le dossier → TV / téléphone</li>
<li>Backup privé → répliqué chiffré chez P, illisible pour tous les autres</li>
<li>Édition documentaire → Nextcloud + OnlyOffice, collaboration possible</li>
<li>Accès multi-appareils → possibilité de travailler hors ligne, cache mobile disponible</li>
</ol>

<hr>

<h2>10️⃣ Bonnes pratiques</h2>
<ul>
<li>Nextcloud pour accès, Syncthing pour réplication et redondance</li>
<li>Garder dossiers privés chiffrés si répliqués chez la famille</li>
<li>Jellyfin + SMB pour streaming médias sur TV</li>
<li>Nextcloud apps pour upload automatique et accès hors ligne</li>
<li>Organisation claire des dossiers pour éviter les partages accidentels</li>
</ul>

<hr>

<h2>11️⃣ Diagrammes explicatifs</h2>
<pre>
Diagramme 1 : Topologie des serveurs et réplication

Méga-réseau 1 (Famille centrale)
       P
      / \
     M---B
Fichiers partagés: core_family/
Dossiers privés: private_encrypted/ (M → P chiffré)

Méga-réseau 2 (Belle-famille)
       P
       |
       S
Fichiers partagés: parents_stepfamily/
</pre>

<pre>
Diagramme 2 : Accès multi-appareils

[Android / iPhone] ↔ Nextcloud ↔ Syncthing ↔ Serveur M/B/P/S
[Mac/Windows/Linux] ↔ Nextcloud Desktop ↔ Syncthing
[Smart TV] ↔ SMB / Jellyfin ↔ Serveur local
[Web Browser] ↔ Nextcloud Web UI ↔ Serveur

- Les dossiers privés chiffrés ne sont accessibles que depuis appareils de confiance.
- Les dossiers familiaux sont visibles uniquement par les membres autorisés.
</pre>

<hr>

<h2>Résumé</h2>
<ul>
<li>Cloud familial multi-maison, multi-plateforme</li>
<li>Dossiers privés sécurisés, dossiers partagés répliqués</li>
<li>Streaming média et upload automatique pour mobile</li>
<li>Interface conviviale via Nextcloud et apps</li>
<li>Réplication fiable via Syncthing avec chiffrement optionnel</li>
<li>Maintenance simple avec Docker</li>
</ul>
<p>Ce document peut être partagé avec tous les membres de la famille pour expliquer le fonctionnement, les avantages et la sécurité de leur cloud privé.</p>

</body>
</html>
